<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>取消冒泡（封装函数兼容）</title>
<style type="text/css">
.box1{width: 100px;height: 100px;background-color: red;}
.box2{width: 200px;height: 200px;background-color: green;}
.box3{width: 300px;height: 300px;background-color: blue;}
</style>
</head>
<body>
<div class="box3">
    <div class="box2">
        <div class="box1"></div>
    </div>
</div>
<script type="text/javascript">
/*
w3c标准：event.stopPropagation()
IE独有：event.cancelBubble=true
*/


// 封装取消冒泡函数
function stopBubble(e){
    var event=e||window.event;
    if (event.stopPropagation) {
        event.stopPropagation();
    } else {
        event.cancelBubble=true;
    }
}



var box1=document.querySelector('.box1');
var box2=document.querySelector('.box2');
var box3=document.querySelector('.box3');


box1.onclick=function(e){
    alert('box1');
    stopBubble(e);
};
box2.onclick=function(e){
    alert('box2');
};
box3.onclick=function(){
    alert('box3');
};






</script>   
</body>
</html>