<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>单选多选</title>
</head>
<body>
<label><input type="checkbox" class="checkAll">全选</label>
<br>
<label><input type="checkbox" class="checkOne">选项</label>
<label><input type="checkbox" class="checkOne">选项</label>
<label><input type="checkbox" class="checkOne">选项</label>
<label><input type="checkbox" class="checkOne">选项</label>
<label><input type="checkbox" class="checkOne">选项</label>
<p class="text" style="display: none">已选： <span class="total"></span>项</p>





<script type="text/javascript">
var checkAll=document.querySelector('.checkAll');
var checkOne=document.querySelectorAll('.checkOne');
var text=document.querySelector('.text');
var total=document.querySelector('.total');

// 计算总数
function count(){
	var num=0;
	for (var i = 0; i < checkOne.length; i++) {
		if (checkOne[i].checked) {
			num++;
		}
	}
	if (num==checkOne.length) {
		checkAll.checked=true;
	}
	if (num>0) {
		text.style.display = 'block';
	} else {
		text.style.display = 'none';
	}
	total.innerHTML=num;
}


// 单选
for (var i = 0; i < checkOne.length; i++) {
	checkOne[i].onchange=function(){
		count();
		if (!this.checked) {
			checkAll.checked=false;
		}
	};
}

// 多选
checkAll.onchange=function(){
	for (var i = 0; i < checkOne.length; i++) {
		checkOne[i].checked=this.checked;
	}
	count();
};
</script>
</body>
</html>