<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
<title>7天免登录</title>
<style type="text/css">

</style>
</head>
<body>
<div class="form">
	<label>username:</label>
	<input type="text" id="username">
	<br>
	<label>password:</label>
	<input type="password" id="password">
	<br>
	<label><input type="checkbox" id="check">7天免登陆</label>
	<button id="btn">登陆</button>
</div>



<script type="text/javascript">
var username=document.querySelector('#username');
var password=document.querySelector('#password');
var check=document.querySelector('#check');
var btn=document.querySelector('#btn');


if (getCookie('init')) {
	var cookie=JSON.parse(getCookie('init'));
	username.value=cookie.name;
	password.value=cookie.pass;
	check.checked=true;
}


btn.onclick=function(){
	if (check.checked) {
		var obj={};
		obj.name=username.value;
		obj.pass=password.value;
		var str=JSON.stringify(obj);
		setCookie('init',str,1);
	}
};



// 设置cookie：键、值、过期天数
function setCookie(key,value,day){
    var date=new Date();
    date.setDate(date.getDate()+day);
    document.cookie=key+'='+value+';expires='+date;
}



// 获取cookie
function getCookie(key){
	var cookie=document.cookie;
	var cookieArr=cookie.split('; ');
	var result;
	for (var i = 0; i < cookieArr.length; i++) {
		var arr1=cookieArr[i].split('=');
		if (key==arr1[0]) {
			result=arr1[1];
		}
	}
	return result;
}
</script>
</body>
</html>