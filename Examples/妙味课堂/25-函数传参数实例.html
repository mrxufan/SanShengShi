<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>函数传递参数实例</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
<style type="text/css">
.wrap{width: 640px;height: 360px;position: relative;background: #eee no-repeat center url('images/loading.gif');background-size: 100px;float: left;margin-right: 20px;}
.wrap .img{width: 640px;height: 360px;}
.wrap .tit,.wrap .txt{position: absolute;width: 100%;margin: 0;background-color: rgba(0, 0, 0, .7);left: 0;text-align: center;padding: 10px 0;color: #fff;}
.wrap .tit{top: 0;}
.wrap .txt{bottom: 0;}
.wrap .ul{margin: 0;padding: 0;list-style: none;position: absolute;left: 0;bottom: -50px;}
.wrap .ul li{width: 40px;height: 40px;background-color: #333;float: left;margin-right: 10px;}
.wrap .ul li.active{background-color: red;}
</style>
</head>
<body>
<div class="wrap" id="pic1">
	<img src="" class="img">
	<p class="tit">数量正在加载中...</p>
	<p class="txt">文字正在加载中...</p>
	<ul class="ul"></ul>
</div>
<div class="wrap" id="pic2">
	<img src="" class="img">
	<p class="tit">数量正在加载中...</p>
	<p class="txt">文字正在加载中...</p>
	<ul class="ul"></ul>
</div>

<script type="text/javascript">
/*
重用代码：
1、尽量保证HTML结构一致，可以通过父级选择子元素
2、把核心主程序实现，用函数包起来
3、把每组不用的值找出来，通过传参实现

*/



window.onload=function () {
	funTab('#pic1',['images/1.jpg','images/2.jpg','images/3.jpg','images/4.jpg'],['第一张图片','第二张图片','第三张图片','第四张图片'],'onclick');
	funTab('#pic2',['images/1.jpg','images/2.jpg','images/3.jpg'],['第一张图片','第二张图片','第三张图片'],'onmouseenter');
};

function funTab(id,ArrImg,ArrText,event) {
	var Wrap=document.querySelector(id);
	var Img=Wrap.querySelector('.img');
	var Tit=Wrap.querySelector('.tit');
	var Txt=Wrap.querySelector('.txt');
	var Ul=Wrap.querySelector('.ul');
	var Li=Ul.getElementsByTagName('li');

	// var ArrImg=['images/1.jpg','images/2.jpg','images/3.jpg','images/4.jpg','images/5.jpg'];
	// var ArrText=['第一张图片','第二张图片','第三张图片','第四张图片','第五张图片'];

	// 初始化
	var num=0;
	Tit.innerHTML=num+1+'/'+ArrImg.length;
	Txt.innerHTML=ArrText[num];
	Img.src=ArrImg[num];


	// 根据图片的个数动态添加li
	for (var i = 0; i < ArrImg.length; i++) {
		Ul.innerHTML+='<li></li>';
		Li[num].className='active';
	}

	for (var i = 0; i < Li.length; i++) {
		Li[i].index=i;
		Li[i][event]=function () {
			Tit.innerHTML=this.index+1+'/'+ArrImg.length;
			Img.src=ArrImg[this.index];
			Txt.innerHTML=ArrText[this.index];
			for (var i = 0; i < Li.length; i++) {
				Li[i].className=''; //先清空所有class
			}
			this.className='active'; //再给当前添加class
		};
	}
}
</script>   
</body>
</html>