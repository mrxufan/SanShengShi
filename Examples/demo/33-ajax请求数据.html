<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
    <title>ajax请求数据</title>
    <style type="text/css">
        #load {
            position: fixed;
            width: 100px;
            height: 100px;
            background: url(images/loading.gif) no-repeat center center;
            background-size: cover;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        }
    </style>
</head>

<body>
    <h3>ajax请求数据</h3>
    <button id="btn">按钮</button>
    <span id="load" style="display: none;"></span>
    <div id="box"></div>
    <ul id="ul1"></ul>


    <script src="js/jquery-1.11.1.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $('#btn').click(function () {
                $.ajax({
                    url: 'http://jsonplaceholder.typicode.com/posts',
                    type: 'get',
                    dataType: 'json',
                    success: function (data) {
                        // 原生写法：
                        // var oUl = document.getElementById('ul1');
                        // for (var i = 0; i < data.length; i++) {
                        //     oUl.innerHTML += `<li>${data[i].title}</li>`;
                        // }

                        // jquery写法：
                        $.each(data,function(i){
                            $('#ul1').append(`<li>${data[i].title}</li>`)
                        })
                    },
                    beforeSend: function () {
                        $('#load').show();
                    },
                    complete: function () {
                        $('#load').hide();
                    },
                    error: function () {
                        alert('出错了')
                    }
                });
            });
        });

// var oBtn=document.getElementById('btn');
// var oUl=document.getElementById('ul1');
// var oBox=document.getElementById('box');
// oBtn.onclick=function(){
// 	var xhr=new XMLHttpRequest();
// 	xhr.open('get','http://jsonplaceholder.typicode.com/comments',true);
// 	xhr.send();
// 	xhr.onreadystatechange=function(){
// 		if (xhr.readyState==4) {
// 			if (xhr.status==200) {
// 				var obj=JSON.parse(xhr.responseText);
// 				for (var i = 0; i < obj.length; i++) {
// 					oUl.innerHTML+=`<li>
// 											<p>postId：${obj[i].postId}</p>
// 											<p>ID：${obj[i].id}</p>
// 											<p>name：${obj[i].name}</p>
// 											<p>email：${obj[i].email}</p>
// 											<p>body：${obj[i].body}</p>
// 									</li>`;
// 				}
// 			} else {
// 				alert('请求失败');
// 			}
// 		}
// 	}; 
// };



    </script>
</body>

</html>