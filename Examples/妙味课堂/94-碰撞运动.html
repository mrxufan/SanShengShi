<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
<title>碰撞运动</title>
<style type="text/css">
#box{width: 100px;height: 100px;background-color: red;position: absolute;}
</style>
</head>
<body>
<button onclick="startMove()">开始</button>
<div id="box"></div>


<script type="text/javascript">
var oBox=document.getElementById('box');
var iSpeedX=5;
var iSpeedY=5;
var timer='';

function startMove()
{
	timer=setInterval(function (){
		var l=oBox.offsetLeft+iSpeedX;
		var t=oBox.offsetTop+iSpeedY;
		
		if(t>=document.documentElement.clientHeight-oBox.offsetHeight)
		{
			iSpeedY*=-1;
			t=document.documentElement.clientHeight-oBox.offsetHeight;
		}
		else if(t<=0)
		{
			iSpeedY*=-1;
			t=0;
		}
		
		if(l>=document.documentElement.clientWidth-oBox.offsetWidth)
		{
			iSpeedX*=-1;
			l=document.documentElement.clientWidth-oBox.offsetWidth;
		}
		else if(l<=0)
		{
			iSpeedX*=-1;
			l=0;
		}
		
		oBox.style.left=l+'px';
		oBox.style.top=t+'px';
	}, 30);
}
</script>

</body>
</html>
