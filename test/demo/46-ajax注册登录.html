<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
<title>ajax注册登录</title>
</head>
<body>
<div class="form">
    <p>用户名：<input type="text" id="username"></p>
    <p>密码：<input type="password" id="password"></p>
    <button onclick="submitMsg('reg')">注册</button>
    <button onclick="submitMsg('login')">登陆</button>
</div>



<script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>    
<script type="text/javascript">
function submitMsg(type){
    var username=$('#username').val();
    var password=$('#password').val();
    var url='';
    type=='reg'?url='register':url='Login';
    var reg=/^[\w]{6,12}$/;
    if (username=='') {
        alert('请输入用户名！');
        return;
    }
    if (!reg.test(password)) {
        alert('请输入正确的密码！');
        return;
    }
    $.ajax({
        type:'POST',
        url:'http://xinhengjieyi.vicp.io/home/'+url+'',
        data:{UserName:username,Password:password},
        success:function(data){
        	console.log(data);
            if (data.Code==0) {
                alert('注册成功！');
            }
            if (data.Code==1) {
                alert(data.Message);
            }
        },
        error:function(){
            alert('出错啦！');
        }
    });
}
</script>
</body>
</html>