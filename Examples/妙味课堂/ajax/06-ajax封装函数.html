<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>ajax-封装函数</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
</head>
<body>
<button id="btn">按钮</button>
<p id="text"></p>


<script type="text/javascript">

// 封装函数
function ajax(url,success,error){
	var oAjax=new XMLHttpRequest();
	oAjax.open('GET',url,true);
	oAjax.send();
	oAjax.onreadystatechange=function(){
		if (oAjax.readyState==4) {
			if (oAjax.status==200) {
				success(oAjax.responseText);
			} else {
				if (error) {
					error();
				}
			}
		}
	};
}




var oBtn=document.getElementById('btn');
var oText=document.getElementById('text');
oBtn.onclick=function(){
	ajax('page1.txt',function(str){
		alert('成功');
		oText.innerHTML=str;
	},function(){
		alert('失败');
	});
};

</script>    
</body>
</html>