<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>渐隐轮播-jquery</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="css/reset.css" rel="stylesheet">
<style type="text/css">
.slide{width: 600px;height: 300px;position: relative;margin: 20px auto;}    
.slide-wrap{width: 100%;height: 100%;position: relative;}
.slide-wrap .slide-item{position: absolute;width: 100%;height: 100%;left: 0;top: 0;display: none;}
.slide-wrap img{position: absolute;width: 100%;height: 100%;left: 0;top: 0;display: none;}
.slide .prev,.slide .next{position: absolute;top: 50%;background-color: #f40;color: #fff;padding: 2px 6px;cursor: pointer;}
.slide .prev{left: 20px;}
.slide .next{right: 20px;}
.slide .page{position: absolute;width: 100%;left: 0;bottom: 20px;text-align: center;}
.slide .page li{display: inline-block;width: 10px;height: 10px;background-color: #fff;border-radius: 50%;margin: 0 4px;cursor: pointer;}
.slide .page li.active{background-color: red;}
</style>
</head>
<body>
<div class="slide">
	<div class="slide-wrap">
		<div class="slide-item" style="background-color: black"></div>
		<div class="slide-item" style="background-color: green"></div>
		<div class="slide-item" style="background-color: blue"></div>
		<div class="slide-item" style="background-color: purple"></div>
	</div>
	<span class="prev">prev</span>
	<span class="next">next</span>
	<ul class="page">
		<li></li><li></li><li></li><li></li>
	</ul>
</div>

<script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>    
<script type="text/javascript">
function slide(){
	var slide=$('.slide');
	var slideWrap=$('.slide-wrap');
	var slideItem=$('.slide-wrap .slide-item');
	var prev=$('.slide .prev');
	var next=$('.slide .next');
	var li=$('.page li');
	var num=0;
	var timer;

	// 初始化
	slideItem.eq(num).fadeIn();
	li.eq(num).addClass('active').siblings().removeClass('active');

	// 封装图片和分页遍历
	function each(){
		slideItem.each(function(){
			slideItem.eq(num).fadeIn().siblings().fadeOut();
		});
		li.each(function(){
			li.eq(num).addClass('active').siblings().removeClass('active');
		});
	}

	// 自动播放
	function autoPlay(){
		num++;
		if (num>slideItem.length-1) {
			num=0;
		}
		each();
	}

	// 点击分页显示相应的图片
	li.each(function(){
		$(this).mouseenter(function(){
			num=$(this).index();
			each();
		});
	});

	timer=setInterval(autoPlay,1000);

	// 鼠标经过清除定时器
	slide.mouseenter(function(){
		clearInterval(timer);
	});

	// 鼠标离开开始定时器
	slide.mouseleave(function(){
		timer=setInterval(autoPlay,1000);
	});

	// 点击显示上一张
	prev.click(function(){
		num--;
		if (num<0) {
			num=slideItem.length-1;
		}
		each();
	});

	// 点击显示下一张
	next.click(function(){
		autoPlay();
	});
}
slide();
</script>
</body>
</html>