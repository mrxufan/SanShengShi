<!doctype html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
<title>通过$emit事件向父级组件发送消息</title>
<link rel="stylesheet" type="text/css" href="mint-ui/style.css">
<style type="text/css">

</style>

</head>

<body>
<div id="vue-one">
	<h3>通过$emit事件向父级组件发送消息</h3>
	<p v-show="items==''">加载中...</p>
	<div :style="{fontSize:itemSize+'px'}">
		<blog-list v-for="item in items" :name="item.name" :key="item.name" v-on:add-size="itemSize++" v-on:minus-size="itemSize--"></blog-list>
	</div>
</div>


</body>

<script type="text/javascript" src="js/vue.js"></script>
<script type="text/javascript" src="mint-ui/index.js"></script>
<script type="text/javascript" src="js/axios.min.js"></script>
<script>
var child1={
	template:
		`<div class="blog-list">
	      {{ name }}
	      <button @click="$emit('add-size',16)">add-size</button>
	      <button @click="$emit('minus-size',16)">minus-size</button>
	    </div>`,
	props:['name'],
};

var vm1 = new Vue({
	el: "#vue-one",
	data:{
		items:[],
		itemSize:16
	},
	components:{
		'blog-list': child1
	},
	methods:{
		getMsg:function(){
			axios.get('http://jsonplaceholder.typicode.com/users').then(data=>{
				console.log(data)
				data.data.forEach(a=>{
					this.items.push(a)
				})
				console.log(this.items)
			}).catch(error=>{
				console.log(error)
			})
		}
	},
	mounted:function(){
		this.getMsg();
	}
});
</script>
	
</html>
